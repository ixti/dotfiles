# vim: ft=zsh

local _bat_themes_dir="${BAT_CONFIG_DIR}/themes"
[[ -d "${_bat_themes_dir}" ]] || mkdir -p "${_bat_themes_dir}"

function _update_bat_theme() {
  local src="$1"
  local dst="${_bat_themes_dir}/${2:-"$(basename "$1")"}"

  print -u2 "* ${src}\n  â†ª ${dst}"
  curl -slfo "${dst}" "${src}"
}

_update_bat_theme "https://raw.githubusercontent.com/folke/tokyonight.nvim/main/extras/sublime/tokyonight_day.tmTheme"
_update_bat_theme "https://raw.githubusercontent.com/folke/tokyonight.nvim/main/extras/sublime/tokyonight_storm.tmTheme"
_update_bat_theme "https://raw.githubusercontent.com/folke/tokyonight.nvim/main/extras/sublime/tokyonight_moon.tmTheme"
_update_bat_theme "https://raw.githubusercontent.com/folke/tokyonight.nvim/main/extras/sublime/tokyonight_night.tmTheme"
_update_bat_theme "https://raw.githubusercontent.com/scottmckendry/cyberdream.nvim/refs/heads/main/extras/textmate/cyberdream.tmTheme"
_update_bat_theme "https://raw.githubusercontent.com/scottmckendry/cyberdream.nvim/refs/heads/main/extras/textmate/cyberdream-light.tmTheme"

unset _update_bat_theme
unset _bat_themes_dir

bat cache --build
